{"version":3,"sources":["views/MoviePage.module.css","views/MovieDetailsPage.js"],"names":["module","exports","Cast","lazy","Reviews","MovieDetailsPage","location","useLocation","history","useHistory","console","log","movieId","useParams","url","useRouteMatch","useState","movie","setMovie","useEffect","fetch","then","response","ok","Error","status","json","resp","type","className","css","btn","onClick","push","state","from","btnIcon","mainInfo","src","poster_path","alt","original_title","poster","info","release_date","slice","vote_average","overview","genres","map","genre","name","id","addInfo","addInfo_title","addList","addList_item","to","additional","activeClassName","active","fallback","path"],"mappings":"4HACAA,EAAOC,QAAU,CAAC,IAAM,uBAAuB,QAAU,2BAA2B,SAAW,4BAA4B,KAAO,wBAAwB,OAAS,0BAA0B,QAAU,2BAA2B,cAAgB,iCAAiC,QAAU,2BAA2B,WAAa,8BAA8B,aAAe,gCAAgC,OAAS,4B,wGCYrZC,EAAOC,gBAAK,kBAChB,gCAEIC,EAAUD,gBAAK,kBACnB,gCAmGaE,UA9Ff,WACE,IAAMC,EAAWC,cACXC,EAAUC,cAChBC,QAAQC,IAAI,IAAKH,GACjBE,QAAQC,IAAI,IAAKL,GACjB,IAAQM,EAAYC,cAAZD,QACAE,EAAQC,cAARD,IACR,EAA0BE,mBAAS,MAAnC,mBAAOC,EAAP,KAAcC,EAAd,KAmBA,OAjBAC,qBAAU,WACRC,MAAM,GAAD,OAZG,6BAYH,oBAAmBR,EAAnB,oBAXO,mCAWP,oBACFS,MAAK,SAAAC,GACJ,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAMF,EAASG,QAE3B,OAAOH,EAASI,UAEjBL,MAAK,SAAAM,GACJT,EAASS,QAEZ,CAACf,IAOF,qCACE,yBAAQgB,KAAK,SAASC,UAAWC,IAAIC,IAAKC,QANzB,WAAO,IAAD,IACzBxB,EAAQyB,KAAR,iBAAa3B,QAAb,IAAaA,GAAb,UAAaA,EAAU4B,aAAvB,aAAa,EAAiBC,YAA9B,QAAsC,MAKpC,UACE,cAAC,IAAD,CAAkBN,UAAWC,IAAIM,UADnC,cAGCnB,GACC,qCACE,sBAAKY,UAAWC,IAAIO,SAApB,UACE,qBACEC,IAAG,yCAAoCrB,EAAMsB,aAC7CC,IAAKvB,EAAMwB,eACXZ,UAAWC,IAAIY,SAEjB,sBAAKb,UAAWC,IAAIa,KAApB,UACE,6BACE,iCACG1B,EAAMwB,eADT,KAC2BxB,EAAM2B,aAAaC,MAAM,EAAG,GADvD,SAIF,6CAAqC,GAArB5B,EAAM6B,aAAtB,OACA,0CACA,4BAAI7B,EAAM8B,WACV,wCACA,6BACG9B,EAAM+B,OAAOC,KAAI,SAAAC,GAAK,OACrB,6BAAoBA,EAAMC,MAAjBD,EAAME,eAKvB,sBAAKvB,UAAWC,IAAIuB,QAApB,UACE,mBAAGxB,UAAWC,IAAIwB,cAAlB,oCACA,qBAAIzB,UAAWC,IAAIyB,QAAnB,UACE,oBAAI1B,UAAWC,IAAI0B,aAAnB,SACE,cAAC,IAAD,CACEC,GAAE,UAAK3C,EAAL,SACFe,UAAWC,IAAI4B,WACfC,gBAAiB7B,IAAI8B,OAHvB,oBAQF,6BACE,cAAC,IAAD,CACEH,GAAE,UAAK3C,EAAL,YACFe,UAAWC,IAAI4B,WACfC,gBAAiB7B,IAAI8B,OAHvB,gCAYV,cAAC,WAAD,CAAUC,SAAU,4CAApB,SACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAOC,KAAK,wBAAZ,SACE,cAAC5D,EAAD,CAAMkD,GAAIxC,MAEZ,cAAC,IAAD,CAAOkD,KAAK,2BAAZ,SACE,cAAC1D,EAAD,CAASgD,GAAIxC","file":"static/js/movie-detail-page.39b621c5.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"btn\":\"MoviePage_btn__3oFLz\",\"btnIcon\":\"MoviePage_btnIcon__2wvaq\",\"mainInfo\":\"MoviePage_mainInfo__CX9qE\",\"info\":\"MoviePage_info__3wBnT\",\"poster\":\"MoviePage_poster__1BIFG\",\"addInfo\":\"MoviePage_addInfo__dD882\",\"addInfo_title\":\"MoviePage_addInfo_title__3JPTL\",\"addList\":\"MoviePage_addList__36Fhe\",\"additional\":\"MoviePage_additional__1JKsm\",\"addList_item\":\"MoviePage_addList_item__3mbfx\",\"active\":\"MoviePage_active__1KanU\"};","import { BsBoxArrowInLeft } from 'react-icons/bs';\nimport { useEffect, useState, lazy, Suspense } from 'react';\nimport {\n  useParams,\n  useRouteMatch,\n  useLocation,\n  useHistory,\n  Route,\n  Switch,\n} from 'react-router-dom';\nimport { NavLink } from 'react-router-dom';\n\nimport css from './MoviePage.module.css';\nconst Cast = lazy(() =>\n  import('./CastView.js' /* webpackChunkName: \"cast-views\" */),\n);\nconst Reviews = lazy(() =>\n  import('./ReviewsView.js' /* webpackChunkName: \"reviews-view\" */),\n);\n\nconst URL = 'https://api.themoviedb.org';\nconst API_Key = 'b0a51c5fb2c3f42914edb92a4e0001cb';\nfunction MovieDetailsPage() {\n  const location = useLocation();\n  const history = useHistory();\n  console.log('H', history);\n  console.log('L', location);\n  const { movieId } = useParams();\n  const { url } = useRouteMatch();\n  const [movie, setMovie] = useState(null);\n\n  useEffect(() => {\n    fetch(`${URL}/3/movie/${movieId}?api_key=${API_Key}&language=en-US`)\n      .then(response => {\n        if (!response.ok) {\n          throw new Error(response.status);\n        }\n        return response.json();\n      })\n      .then(resp => {\n        setMovie(resp);\n      });\n  }, [movieId]);\n\n  const handleOnClik = () => {\n    history.push(location?.state?.from ?? '/');\n  };\n\n  return (\n    <>\n      <button type=\"button\" className={css.btn} onClick={handleOnClik}>\n        <BsBoxArrowInLeft className={css.btnIcon} /> Go back\n      </button>\n      {movie && (\n        <>\n          <div className={css.mainInfo}>\n            <img\n              src={`https://image.tmdb.org/t/p/w500${movie.poster_path}`}\n              alt={movie.original_title}\n              className={css.poster}\n            />\n            <div className={css.info}>\n              <h2>\n                <span>\n                  {movie.original_title} ({movie.release_date.slice(0, 4)})\n                </span>\n              </h2>\n              <p>User Score: {movie.vote_average * 10}%</p>\n              <h3>Overview</h3>\n              <p>{movie.overview}</p>\n              <h4>Genres</h4>\n              <ul>\n                {movie.genres.map(genre => (\n                  <li key={genre.id}>{genre.name}</li>\n                ))}\n              </ul>\n            </div>\n          </div>\n          <div className={css.addInfo}>\n            <p className={css.addInfo_title}>Additional information</p>\n            <ul className={css.addList}>\n              <li className={css.addList_item}>\n                <NavLink\n                  to={`${url}/cast`}\n                  className={css.additional}\n                  activeClassName={css.active}\n                >\n                  Cast\n                </NavLink>\n              </li>\n              <li>\n                <NavLink\n                  to={`${url}/reviews`}\n                  className={css.additional}\n                  activeClassName={css.active}\n                >\n                  Reviews\n                </NavLink>\n              </li>\n            </ul>\n          </div>\n        </>\n      )}\n      <Suspense fallback={<h1>Loading...</h1>}>\n        <Switch>\n          <Route path=\"/movies/:movieId/cast\">\n            <Cast id={movieId} />\n          </Route>\n          <Route path=\"/movies/:movieId/reviews\">\n            <Reviews id={movieId} />\n          </Route>\n        </Switch>\n      </Suspense>\n    </>\n  );\n}\nexport default MovieDetailsPage;\n"],"sourceRoot":""}